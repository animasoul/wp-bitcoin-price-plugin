{"version":3,"file":"view.js","mappings":"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","sources":["webpack://bitcoin-price-component/./src/view.js"],"sourcesContent":["const API_ENDPOINT = \"https://api.coindesk.com/v1/bpi/currentprice.json\";\nconst CURRENCIES = [\"USD\", \"GBP\", \"EUR\"];\n\nfunction formatCurrency(value, currencyCode) {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: currencyCode,\n\t\tminimumFractionDigits: 2,\n\t\tmaximumFractionDigits: 2,\n\t}).format(value);\n}\n\nlet previousRates = {\n\tUSD: null,\n\tGBP: null,\n\tEUR: null,\n};\n\nfunction updateRateClass(ratePlaceholder, currentRate, previousRate) {\n\tif (previousRate === null) return;\n\tif (currentRate > previousRate) {\n\t\tratePlaceholder.classList.add(\"increased\");\n\t} else if (currentRate < previousRate) {\n\t\tratePlaceholder.classList.add(\"decreased\");\n\t} else {\n\t\tratePlaceholder.classList.add(\"unchanged\");\n\t}\n}\n\nwindow.updateBitcoinPrices = function () {\n\tfetch(API_ENDPOINT)\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Network response was not ok\");\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then((data) => {\n\t\t\tconst bitcoinBlocks = document.querySelectorAll(\n\t\t\t\t\".bitcoin-price-component\",\n\t\t\t);\n\n\t\t\tbitcoinBlocks.forEach((block) => {\n\t\t\t\tCURRENCIES.forEach((currency) => {\n\t\t\t\t\tconst ratePlaceholder = block.querySelector(\n\t\t\t\t\t\t`[data-currency=\"${currency}\"] .rate-placeholder`,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (data.bpi[currency] && ratePlaceholder) {\n\t\t\t\t\t\tupdateRateClass(\n\t\t\t\t\t\t\tratePlaceholder,\n\t\t\t\t\t\t\tdata.bpi[currency].rate_float,\n\t\t\t\t\t\t\tpreviousRates[currency],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tratePlaceholder.classList.remove(\n\t\t\t\t\t\t\t\t\"increased\",\n\t\t\t\t\t\t\t\t\"decreased\",\n\t\t\t\t\t\t\t\t\"unchanged\",\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 2000);\n\n\t\t\t\t\t\tratePlaceholder.textContent = formatCurrency(\n\t\t\t\t\t\t\tdata.bpi[currency].rate_float,\n\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tpreviousRates[currency] = data.bpi[currency].rate_float;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconst disclaimerPlaceholder = block.querySelector(\n\t\t\t\t\t\".disclaimer-placeholder\",\n\t\t\t\t);\n\t\t\t\tif (data.disclaimer && disclaimerPlaceholder) {\n\t\t\t\t\tdisclaimerPlaceholder.textContent = data.disclaimer;\n\t\t\t\t}\n\n\t\t\t\tconst updatedTimePlaceholder = block.querySelector(\n\t\t\t\t\t\".updated-time-placeholder\",\n\t\t\t\t);\n\t\t\t\tif (data.time.updated && updatedTimePlaceholder) {\n\t\t\t\t\tupdatedTimePlaceholder.textContent = data.time.updated;\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error fetching Bitcoin price:\", error);\n\t\t\t// Optionally, provide a more user-friendly notification.\n\t\t});\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", window.updateBitcoinPrices);\n"],"names":["API_ENDPOINT","CURRENCIES","formatCurrency","value","currencyCode","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","previousRates","USD","GBP","EUR","updateRateClass","ratePlaceholder","currentRate","previousRate","classList","add","window","updateBitcoinPrices","fetch","then","response","ok","Error","json","data","bitcoinBlocks","document","querySelectorAll","forEach","block","querySelector","bpi","rate_float","setTimeout","remove","textContent","disclaimerPlaceholder","disclaimer","updatedTimePlaceholder","time","updated","catch","error","console","addEventListener"],"sourceRoot":""}