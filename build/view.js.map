{"version":3,"file":"view.js","mappings":"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","sources":["webpack://bitcoin-price-component/./src/view.js"],"sourcesContent":["const API_ENDPOINT = \"https://api.coindesk.com/v1/bpi/currentprice.json\";\n\nfunction formatCurrency(value, currencyCode) {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: currencyCode,\n\t\tminimumFractionDigits: 2,\n\t\tmaximumFractionDigits: 2,\n\t}).format(value);\n}\n\nlet previousRates = {\n\tUSD: null,\n\tGBP: null,\n\tEUR: null,\n};\n\nwindow.updateBitcoinPrices = function () {\n\tfetch(API_ENDPOINT)\n\t\t.then((response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\"Network response was not ok\");\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then((data) => {\n\t\t\tconst bitcoinBlocks = document.querySelectorAll(\n\t\t\t\t\".bitcoin-price-component\",\n\t\t\t);\n\t\t\tconst currencies = [\"USD\", \"GBP\", \"EUR\"];\n\n\t\t\tbitcoinBlocks.forEach((block) => {\n\t\t\t\tcurrencies.forEach((currency) => {\n\t\t\t\t\tconst ratePlaceholder = block.querySelector(\n\t\t\t\t\t\t`[data-currency=\"${currency}\"] .rate-placeholder`,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (data.bpi[currency] && ratePlaceholder) {\n\t\t\t\t\t\tif (previousRates[currency] !== null) {\n\t\t\t\t\t\t\tif (previousRates[currency] < data.bpi[currency].rate_float) {\n\t\t\t\t\t\t\t\tratePlaceholder.classList.add(\"increased\");\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tpreviousRates[currency] > data.bpi[currency].rate_float\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tratePlaceholder.classList.add(\"decreased\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratePlaceholder.classList.add(\"unchanged\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Remove the classes after 2 seconds\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tratePlaceholder.classList.remove(\n\t\t\t\t\t\t\t\t\"increased\",\n\t\t\t\t\t\t\t\t\"decreased\",\n\t\t\t\t\t\t\t\t\"unchanged\",\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t}\n\t\t\t\t\tpreviousRates[currency] = data.bpi[currency].rate_float;\n\n\t\t\t\t\tratePlaceholder.textContent = formatCurrency(\n\t\t\t\t\t\tdata.bpi[currency].rate_float,\n\t\t\t\t\t\tcurrency,\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tif (data.disclaimer && block.querySelector(\".disclaimer-placeholder\")) {\n\t\t\t\t\tblock.querySelector(\".disclaimer-placeholder\").textContent =\n\t\t\t\t\t\tdata.disclaimer;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tdata.time.updated &&\n\t\t\t\t\tblock.querySelector(\".updated-time-placeholder\")\n\t\t\t\t) {\n\t\t\t\t\tblock.querySelector(\".updated-time-placeholder\").textContent =\n\t\t\t\t\t\tdata.time.updated;\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error fetching Bitcoin price:\", error);\n\t\t\t// Optionally, notify the user in a more user-friendly way.\n\t\t});\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", updateBitcoinPrices);\n"],"names":["API_ENDPOINT","formatCurrency","value","currencyCode","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","previousRates","USD","GBP","EUR","window","updateBitcoinPrices","fetch","then","response","ok","Error","json","data","bitcoinBlocks","document","querySelectorAll","currencies","forEach","block","ratePlaceholder","querySelector","bpi","rate_float","classList","add","setTimeout","remove","textContent","disclaimer","time","updated","catch","error","console","addEventListener"],"sourceRoot":""}